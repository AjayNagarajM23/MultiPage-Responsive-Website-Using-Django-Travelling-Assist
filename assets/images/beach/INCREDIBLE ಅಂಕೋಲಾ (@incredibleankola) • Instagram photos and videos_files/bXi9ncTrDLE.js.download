if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisProfileStoryHighlightsTrayItem.react",["cx","fbt","PolarisAvatarWithStoriesContainer","PolarisIGCoreAddOutline24Icon","PolarisIGCoreCheckPanoFilledIcon","PolarisIGCorePressable","PolarisIGCoreText","PolarisNewHighlightsStrings","PolarisStoryRing.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=0;function l(){return"ProfileStoryHighlightsTrayItem"+k++}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={elementId:l()},c.$1=function(){var a;c.props.onClick((a=(a=c.props.reel)==null?void 0:a.id)!=null?a:"",c.state.elementId)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a,b=this.props,e=b.avatarSize,f=b.isSmallScreen,g=b.reel,h=b.addNewHighlight;b=b.hasOverlay;var k={width:e,height:e};a=(a=g==null?void 0:g.title)!=null?a:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT;a=f?j.jsx(c("PolarisIGCoreText").Body2,{display:"truncated",zeroMargin:!0,children:a}):j.jsx(c("PolarisIGCoreText").BodyEmphasized,{display:"truncated",zeroMargin:!0,children:a});return j.jsxs(c("PolarisIGCorePressable"),{className:"_ab09",onPress:this.$1,role:"menuitem",children:[g!=null&&j.jsx(c("PolarisAvatarWithStoriesContainer"),{canTabFocus:!1,clickTargetElementId:this.state.elementId,entrypoint:"reel_profile_highlights",highlightReelId:g.highlightReelId,size:e,children:j.jsxs("div",{className:"om3e55n1 hf30pyar lq84ybu9 nmlomj2f qwcclf47 e7u6y3za qmqpeqxj cauy2b9r",style:k,children:[b===!0&&j.jsx("div",{className:"i85zmo3j jcxyg2ei alzwoclg smah006z mfclru0v pytsy3co s8sjc6am",children:j.jsx(c("PolarisIGCoreCheckPanoFilledIcon"),{alt:i._("Tick"),color:"ig-primary-background"})}),j.jsx("img",{alt:i._("{username}'s profile picture",[i._param("username",g.title)]),className:"_ab0b",src:g.thumbnailUrl})]})}),h===!0&&j.jsxs("div",{className:"fsf7x5fv f14ij5to om3e55n1 b6ax4al1 gb2oqlaf",children:[j.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:e}),j.jsx("div",{className:"om3e55n1 hf30pyar lq84ybu9 nmlomj2f qwcclf47 e7u6y3za qmqpeqxj cauy2b9r i85zmo3j jcxyg2ei alzwoclg",style:k,children:j.jsx(c("PolarisIGCoreAddOutline24Icon"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:f?30:44})})]}),j.jsx("div",{className:"_ab0c",children:a})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayItemPlaceholder.react",["cx","PolarisUserAvatarWithStoriesPlaceholder.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.avatarSize;return i.jsxs("div",{className:"_aa-u",children:[i.jsx(c("PolarisUserAvatarWithStoriesPlaceholder.react"),{className:"_aa-v",size:a}),i.jsx("div",{className:"_aa-w"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("shouldDisplayLoggedOutHighlights",["PolarisLoggedOutLoginConstants","PolarisUA","PolarisisUserLoggedIn","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return!d("PolarisisUserLoggedIn").isUserLoggedIn()&&!d("PolarisUA").isDesktop()&&a!=null&&a>=d("PolarisLoggedOutLoginConstants").MIN_FOLLOWERS_LOGGED_OUT_HIGHLIGHTS&&c("qex")._("70")===!0}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTray",["cx","PolarisCreateAndAddHighlightsModal.react","PolarisIGCoreBox","PolarisLinkBuilder","PolarisLogger","PolarisProfileStoryHighlightsTrayItem.react","PolarisProfileStoryHighlightsTrayItemPlaceholder.react","PolarisQEHelper","PolarisStoryActions","PolarisVirtualHSnapScroll.react","PolarisstorySelectors","PolarisuserSelectors","browserHistory","immutable-v4-rc-9","nullthrows","react","react-redux-wwwig","shouldDisplayLoggedOutHighlights"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");h=d("react");var j=h.useMemo,k=h.useState,l=7,m={cardWidth:70,gapWidth:5,gutterWidth:0},n={cardWidth:120,gapWidth:10,gutterWidth:24},o=56,p=77;function a(a){var b=a.highlightReelCount,e=a.highlightReelIdsWithOverlay,f=a.isSmallScreen,g=a.onClick,h=a.reels,q=a.storyEntrypoint,r=a.viewer,s=a.userFollowerCount,t=a.onLoadReel,u=a.userId;a=a.user;var v=k(!1),w=v[0],x=v[1],y=function(a){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildHighlightStoryLink(a))},z=function(){d("PolarisLogger").logAction_DEPRECATED("addHighlightIconClick"),x(!0)};v=j(function(){var a=f?m:n;return Array.from({length:Math.min(b,l)},function(b,d){return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",width:a.cardWidth+a.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItemPlaceholder.react"),{avatarSize:f?o:p},d)},d)})},[b,f]);var A=j(function(){var b=function(a,b){if(q===!0){var e;e=[].concat(Array.from((e=h)!=null?e:[]));e=e.find(function(b){return b.id===a});e!=null&&g(e)}else r||c("shouldDisplayLoggedOutHighlights")(s)?t(d("immutable-v4-rc-9").Seq.Indexed(c("nullthrows")(h)),a,b):y(a)},a=f?m:n;return h!=null?h.map(function(d){var g;return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",width:a.cardWidth+a.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItem.react"),{avatarSize:f?o:p,hasOverlay:(g=e==null?void 0:e.includes(d.id))!=null?g:!1,isSmallScreen:f,onClick:b,reel:d})},d.id)}).toArray():[]},[e,f,h,t,s,r,g,q]),B=function(){var a=f?m:n;return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",width:a.cardWidth+a.gapWidth/2,children:i.jsx(c("PolarisProfileStoryHighlightsTrayItem.react"),{addNewHighlight:!0,avatarSize:f?o:p,isSmallScreen:f,onClick:z})},"newHighlight")},C=f?m:n,D=h!=null;u=u===(r==null?void 0:r.id);return i.jsxs("div",{className:q!==!0?"_ab05":"a9zleok9",role:"menu",children:[q===!0&&i.jsx("div",{className:"o7bt71qk alzwoclg",children:h==null?v:A}),q==null&&i.jsx(c("PolarisVirtualHSnapScroll.react"),{gutterWidth:C.gutterWidth,itemWidth:C.cardWidth+C.gutterWidth/2,overscan:7,pagerDisabled:f||!D,children:h==null?u&&d("PolarisQEHelper").hasAddHighlightEnabled()?v.concat(B()):v:u&&d("PolarisQEHelper").hasAddHighlightEnabled()?A.concat(B()):A},D?"highlights":"placeholder"),w&&i.jsx(c("PolarisCreateAndAddHighlightsModal.react"),{onClose:function(){return x(!1)},user:a})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var e=d("PolarisstorySelectors").getHighlightReelsByUserId(a,b.userId),f=c("nullthrows")(a.users.users.get(b.userId)).highlightReelCount;a=d("PolarisuserSelectors").getUserById(a,b.userId);return{highlightReelCount:f==null?0:f,reels:e,userFollowerCount:(b=a.counts)==null?void 0:b.followedBy}}function e(a){return{onLoadReel:function(b,c,e){a(d("PolarisStoryActions").openReelsMedia(b,"reel_profile_highlights",c,e,void 0,!0))}}}h=d("react-redux-wwwig").connect(b,e)(a);g["default"]=h}),98);